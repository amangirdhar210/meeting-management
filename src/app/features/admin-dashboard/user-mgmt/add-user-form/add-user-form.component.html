<div class="modal-overlay" (click)="onCancelAdd()">
  <div class="modal" (click)="onModalClick($event)">
    <form
      [formGroup]="addUserForm"
      (ngSubmit)="onAddUser()"
      class="add-user-form"
    >
      <div class="welcome-message">
        <h3>Add New User</h3>
      </div>

      <div class="form-group">
        <label for="firstName">First Name</label>
        <input
          id="firstName"
          type="text"
          formControlName="firstName"
          placeholder="Enter first name"
        />
        @if (addUserForm.controls.firstName.invalid &&
        addUserForm.controls.firstName.touched) {
        <div class="error">
          @if (addUserForm.controls.firstName.errors?.['required']) {
          <small>First name is required.</small>
          } @if (addUserForm.controls.firstName.errors?.['minlength']) {
          <small>Must be at least 2 characters.</small>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input
          id="lastName"
          type="text"
          formControlName="lastName"
          placeholder="Enter last name"
        />
        @if (addUserForm.controls.lastName.invalid &&
        addUserForm.controls.lastName.touched) {
        <div class="error">
          @if (addUserForm.controls.lastName.errors?.['required']) {
          <small>Last name is required.</small>
          } @if (addUserForm.controls.lastName.errors?.['minlength']) {
          <small>Must be at least 2 characters.</small>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="role">Role</label>
        <select id="role" formControlName="role">
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          placeholder="Enter email address"
        />
        @if (addUserForm.controls.email.invalid &&
        addUserForm.controls.email.touched) {
        <div class="error">
          @if (addUserForm.controls.email.errors?.['required']) {
          <small>Email is required.</small>
          } @if (addUserForm.controls.email.errors?.['email']) {
          <small>Enter a valid email.</small>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="Enter password"
        />
        @if (addUserForm.controls.password.invalid &&
        addUserForm.controls.password.touched) {
        <div class="error">
          @if (addUserForm.controls.password.errors?.['required']) {
          <small>Password is required.</small>
          } @if (addUserForm.controls.password.errors?.['minlength']) {
          <small>Minimum 6 characters required.</small>
          }
        </div>
        }
      </div>

      <div class="button-group">
        <button
          type="submit"
          class="btn btn-add"
          [disabled]="addUserForm.invalid"
        >
          Add User
        </button>
        <button type="button" class="cancel-btn" (click)="onCancelAdd()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
